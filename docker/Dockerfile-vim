FROM ubuntu:xenial

ENV \
    DEBIAN_FRONTEND=noninteractive \
    TERM=xterm

RUN \
    apt-get update && \
    apt-get install -y git

RUN \
    apt-get update && \
    apt-get install -y libncurses5-dev libgnome2-dev libgnomeui-dev \
    libgtk2.0-dev libatk1.0-dev libbonoboui2-dev \
    libcairo2-dev libx11-dev libxpm-dev libxt-dev

RUN \
    git clone https://github.com/vim/vim /tmp/vim && \
    cd /tmp/vim && \
    ./configure --with-features=huge --enable-gui=gnome2 --enable-cscope && \
    make && \
    make install

RUN \
    apt-get update && \
    apt-get install -y python python-dev python-pip python-virtualenv && \
    rm -rf /var/lib/apt/lists/*

RUN \
    apt-get update && \
    apt-get install -y ruby-full && \
    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* && \
    apt-get autoremove -y && \
    apt-get clean

RUN gem install rspec

RUN apt-get update && apt-get install -y xserver-xorg xorg jwm
