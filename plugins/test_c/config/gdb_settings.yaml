---

commands:
    load_file:
        steps:
            - run_command:
                command: 'file tests/binaries/c_test/c_test'
    info_source:
        steps:
            - run_command_with_match:
                command: 'info line 1'
                match: 'Line \d+ of \\\"(.*)\\\" is at'
                match_group: 1
                try_set: 'current_filename'
            - print_debug:
                msg: "current_filename: {{ current_filename }}"

variables:
    current_filename: ''

events:
    after_startup:
        - 'load_file'

buffers:
    vg_session_log:
        on_startup: true

settings:
    process:
        ttl_stream_timeout: 0.08
        main_process_name: 'gdb'
        main_process_default_arguments: ' -q --interpreter=mi2 '
        end_of_output_regex: '\(gdb\)'
