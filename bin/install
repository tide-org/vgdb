#! /bin/sh -e

echo "testing for pip for install"
which pip 2>&1 > /dev/null

if [ $? -eq 0 ];
then
    echo "pip found"
    cd $(dirname $0)/..
    INSTALL_PATH=$PWD/autoload/tide
    pip install --target=$INSTALL_PATH tide
    exit 0
fi

echo "testing for git for install"
which git 2>&1 > /dev/null

if [ $? -eq 0 ];
then
    echo "git found"
    cd $(dirname $0)/..
    bin/clean
    git submodule init
    git submodule update
    cd $(dirname $0)/../autoload/tide
    git checkout master
    git pull
    exec bin/git-install
    exit 0
fi

echo "pip and git not found. unable to install."
exit 1
